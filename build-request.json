{
  "kind": "build_request",
  "title": "Fix product page functionality",
  "projectName": "Gadget Galaxy",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Audit the ProductCatalog component and ensure all products load correctly from the backend, including accurate product names, descriptions, prices, and categories. Fix any broken data fetching or rendering issues that prevent products from displaying.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "make the product page work"
        ]
      },
      "acceptanceCriteria": [
        "All products retrieved from the backend are displayed in the product grid",
        "Each product card shows the correct name, description, price, and category",
        "Search and category filter controls function correctly and narrow results",
        "Sort controls reorder the product list as expected"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Ensure product images render correctly in ProductCatalog. Verify that the name-based and category-based image resolution logic maps each product to a valid image, and that broken/missing images show a proper fallback placeholder.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "make the product page work"
        ]
      },
      "acceptanceCriteria": [
        "Every product card displays an image (either matched or fallback)",
        "No broken image icons appear on the product page",
        "Fallback image is visually consistent with the product grid layout"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Ensure the 'Add to Cart' action on each product card in ProductCatalog functions correctly â€” clicking it adds the product to the cart state, updates the cart badge count in the Header, and the item is visible in CartPanel.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "make the product page work"
        ]
      },
      "acceptanceCriteria": [
        "Clicking 'Add to Cart' on a product increments the cart item count in the header badge",
        "The added product appears in the CartPanel with correct name, price, and quantity",
        "Adding the same product multiple times increases the quantity rather than duplicating entries"
      ]
    },
    {
      "id": "REQ-4",
      "text": "Verify that backend product data (names, descriptions, prices, categories) is accurate and complete. Fix any products that have missing, placeholder, or incorrect descriptions or pricing values stored in the backend.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "make the product page work"
        ]
      },
      "acceptanceCriteria": [
        "All products have non-empty, meaningful descriptions",
        "All products have valid prices greater than zero",
        "All products are assigned a valid, non-empty category"
      ]
    }
  ],
  "constraints": [
    "Do not modify files under frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useActor.ts, frontend/src/main.tsx, or frontend/src/components/ui",
    "Keep all Motoko logic in backend/main.mo"
  ],
  "nonGoals": [
    "Redesigning the product page layout or visual theme",
    "Adding new product features not currently in scope (reviews, wishlist, etc.)",
    "Changes to the checkout or payment flow"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}